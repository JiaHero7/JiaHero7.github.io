<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JDK8 å…¥é—¨æŒ‡å— | è´¾è‹±é›„-blog</title><meta name="keywords" content="Java,JavaSE,JDK8"><meta name="author" content="JaHero"><meta name="copyright" content="JaHero"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JDK8 å…¥é—¨æŒ‡å— JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª java8-tutorial ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ javacore å…³é”®è¯ï¼šStreamã€lambdaã€Optionalã€@FunctionalInterface  Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)Java 8 ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨ default å…³é”®å­—å°†">
<meta property="og:type" content="article">
<meta property="og:title" content="JDK8 å…¥é—¨æŒ‡å—">
<meta property="og:url" content="http://example.com/pages/ad1cce/index.html">
<meta property="og:site_name" content="è´¾è‹±é›„-blog">
<meta property="og:description" content="JDK8 å…¥é—¨æŒ‡å— JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª java8-tutorial ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ javacore å…³é”®è¯ï¼šStreamã€lambdaã€Optionalã€@FunctionalInterface  Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)Java 8 ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨ default å…³é”®å­—å°†">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/post.jpg">
<meta property="article:published_time" content="2019-05-06T07:02:02.000Z">
<meta property="article:modified_time" content="2022-12-26T06:15:51.840Z">
<meta property="article:author" content="JaHero">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="JavaSE">
<meta property="article:tag" content="JDK8">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/post.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/pages/ad1cce/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload="this.media='all'"><script src="https://fastly.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"K46KXS6BKG","apiKey":"94dab3de87ce4cc2067ec6ef569e9df7","indexName":"JiaHero","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: JaHero","link":"é“¾æ¥: ","source":"æ¥æº: è´¾è‹±é›„-blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://fastly.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://fastly.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://fastly.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://fastly.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://fastly.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JDK8 å…¥é—¨æŒ‡å—',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2022-12-26 14:15:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/ava.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">495</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">294</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">118</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/photos/"><i class="fa-fw image"></i><span> ç›¸å†Œ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/post.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">è´¾è‹±é›„-blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/photos/"><i class="fa-fw image"></i><span> ç›¸å†Œ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JDK8 å…¥é—¨æŒ‡å—</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2019-05-06T07:02:02.000Z" title="å‘è¡¨äº 2019-05-06 15:02:02">2019-05-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-26T06:15:51.840Z" title="æ›´æ–°äº 2022-12-26 14:15:51">2022-12-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/JavaSE/">JavaSE</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/JavaSE/%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/">é«˜çº§ç‰¹æ€§</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">6.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>24åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JDK8 å…¥é—¨æŒ‡å—"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JDK8-å…¥é—¨æŒ‡å—"><a href="#JDK8-å…¥é—¨æŒ‡å—" class="headerlink" title="JDK8 å…¥é—¨æŒ‡å—"></a>JDK8 å…¥é—¨æŒ‡å—</h1><blockquote>
<p>JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª <a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a></p>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a target="_blank" rel="noopener" href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
<p>å…³é”®è¯ï¼š<code>Stream</code>ã€<code>lambda</code>ã€<code>Optional</code>ã€<code>@FunctionalInterface</code></p>
</blockquote>
<h2 id="Default-Methods-for-Interfaces-æ¥å£çš„é»˜è®¤æ–¹æ³•"><a href="#Default-Methods-for-Interfaces-æ¥å£çš„é»˜è®¤æ–¹æ³•" class="headerlink" title="Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)"></a>Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</h2><p>Java 8 ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨ <code>default</code> å…³é”®å­—å°†éæŠ½è±¡æ–¹æ³•å®ç°æ·»åŠ åˆ°æ¥å£ã€‚è¿™ä¸ªåŠŸèƒ½ä¹Ÿè¢«ç§°ä¸ºè™šæ‹Ÿæ‰©å±•æ–¹æ³•ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Formula</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> <span class="type">double</span> <span class="title function_">sqrt</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†æŠ½è±¡æ–¹æ³• <code>calculate</code> ï¼Œæ¥å£ <code>Formula</code> è¿˜å®šä¹‰äº†é»˜è®¤æ–¹æ³• <code>sqrt</code>ã€‚å…·ä½“ç±»åªéœ€è¦æ‰§è¡ŒæŠ½è±¡æ–¹æ³•è®¡ç®—ã€‚é»˜è®¤çš„æ–¹æ³• <code>sqrt</code> å¯ä»¥ç”¨äºå¼€ç®±å³ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Formula</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sqrt(a * <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">formula.calculate(<span class="number">100</span>);     <span class="comment">// 100.0</span></span><br><span class="line">formula.sqrt(<span class="number">16</span>);           <span class="comment">// 4.0</span></span><br></pre></td></tr></table></figure>

<p><code>Formula</code> è¢«å®ç°ä¸ºä¸€ä¸ªåŒ¿åå¯¹è±¡ã€‚ä»£ç éå¸¸å†—é•¿ï¼šç”¨äº <code>sqrt(a * 100)</code> è¿™æ ·ç®€å•çš„è®¡ç®—çš„ 6 è¡Œä»£ç ã€‚æ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­çœ‹åˆ°çš„ï¼Œåœ¨ Java 8 ä¸­å®ç°å•ä¸ªæ–¹æ³•å¯¹è±¡æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚</p>
<h2 id="Lambda-expressions-Lambda-è¡¨è¾¾å¼"><a href="#Lambda-expressions-Lambda-è¡¨è¾¾å¼" class="headerlink" title="Lambda expressions(Lambda è¡¨è¾¾å¼)"></a>Lambda expressions(Lambda è¡¨è¾¾å¼)</h2><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Java ä¸­å¯¹å­—ç¬¦ä¸²åˆ—è¡¨è¿›è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;peter&quot;</span>, <span class="string">&quot;anna&quot;</span>, <span class="string">&quot;mike&quot;</span>, <span class="string">&quot;xenia&quot;</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(names, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String a, String b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é™æ€å·¥å…·æ–¹æ³• <code>Collections.sort</code> ä¸ºäº†å¯¹æŒ‡å®šçš„åˆ—è¡¨è¿›è¡Œæ’åºï¼Œæ¥å—ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚æ‚¨ä¼šå‘ç°è‡ªå·±ç»å¸¸éœ€è¦åˆ›å»ºåŒ¿åæ¯”è¾ƒå™¨å¹¶å°†å…¶ä¼ é€’ç»™æ’åºæ–¹æ³•ã€‚</p>
<p>Java 8 ä½¿ç”¨æ›´ç®€çŸ­çš„ <strong>lambda è¡¨è¾¾å¼</strong>æ¥é¿å…å¸¸å¸¸åˆ›å»ºåŒ¿åå¯¹è±¡çš„é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¦‚æ‚¨æ‰€è§ï¼Œè¿™æ®µä»£ç æ¯”ä¸Šæ®µä»£ç ç®€æ´å¾ˆå¤šã€‚ä½†æ˜¯ï¼Œè¿˜å¯ä»¥æ›´åŠ ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>

<p>è¿™è¡Œä»£ç ä¸­ï¼Œä½ çœå»äº†èŠ±æ‹¬å· <code>&#123;&#125;</code> å’Œ return å…³é”®å­—ã€‚ä½†æ˜¯ï¼Œè¿™è¿˜ä¸ç®—å®Œï¼Œå®ƒè¿˜å¯ä»¥å†è¿›ä¸€æ­¥ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names.sort((a, b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>

<p>åˆ—è¡¨ç°åœ¨æœ‰ä¸€ä¸ª <code>sort</code> æ–¹æ³•ã€‚æ­¤å¤–ï¼Œjava ç¼–è¯‘å™¨çŸ¥é“å‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸æŒ‡å®šå…¥å‚çš„æ•°æ®ç±»å‹ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨å¦‚ä½•ä½¿ç”¨ lambda è¡¨è¾¾å¼ã€‚</p>
<h2 id="Functional-Interfaces-å‡½æ•°æ¥å£"><a href="#Functional-Interfaces-å‡½æ•°æ¥å£" class="headerlink" title="Functional Interfaces(å‡½æ•°æ¥å£)"></a>Functional Interfaces(å‡½æ•°æ¥å£)</h2><p>lambda è¡¨è¾¾å¼å¦‚ä½•é€‚åº” Java çš„ç±»å‹ç³»ç»Ÿï¼Ÿæ¯ä¸ª lambda å¯¹åº”ä¸€ä¸ªç”±æ¥å£æŒ‡å®šçš„ç±»å‹ã€‚ä¸€ä¸ªæ‰€è°“çš„<em>å‡½æ•°æ¥å£</em>å¿…é¡»åŒ…å«ä¸€ä¸ª<strong>æŠ½è±¡æ–¹æ³•å£°æ˜</strong>ã€‚è¯¥ç±»å‹çš„æ¯ä¸ª lambda è¡¨è¾¾å¼éƒ½å°†ä¸æ­¤æŠ½è±¡æ–¹æ³•åŒ¹é…ã€‚ç”±äºé»˜è®¤æ–¹æ³•ä¸æ˜¯æŠ½è±¡çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥è‡ªç”±åœ°æ·»åŠ é»˜è®¤æ–¹æ³•åˆ°ä½ çš„å‡½æ•°æ¥å£ã€‚</p>
<p>åªè¦ä¿è¯æ¥å£ä»…åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»»æ„çš„æ¥å£ä½œä¸º lambda è¡¨è¾¾å¼ã€‚ä¸ºç¡®ä¿æ‚¨çš„æ¥å£ç¬¦åˆè¦æ±‚ï¼Œæ‚¨åº”è¯¥æ·»åŠ  <code>@FunctionalInterface</code> æ³¨è§£ã€‚ç¼–è¯‘å™¨æ³¨æ„åˆ°è¿™ä¸ªæ³¨è§£åï¼Œä¸€æ—¦æ‚¨å°è¯•åœ¨æ¥å£ä¸­æ·»åŠ ç¬¬äºŒä¸ªæŠ½è±¡æ–¹æ³•å£°æ˜ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºç¼–è¯‘å™¨é”™è¯¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Converter</span>&lt;F, T&gt; &#123;</span><br><span class="line">    T <span class="title function_">convert</span><span class="params">(F from)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = (from) -&gt; Integer.valueOf(from);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<p>è¯·è®°ä½ï¼Œå¦‚æœ <code>@FunctionalInterface</code> æ³¨è§£è¢«çœç•¥ï¼Œä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h2 id="Method-and-Constructor-References-æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨"><a href="#Method-and-Constructor-References-æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨" class="headerlink" title="Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)"></a>Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</h2><p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç å¯ä»¥é€šè¿‡ä½¿ç”¨é™æ€æ–¹æ³•å¼•ç”¨è¿›ä¸€æ­¥ç®€åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = Integer::valueOf;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);   <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<p>Java 8 å…è®¸æ‚¨é€šè¿‡ <code>::</code> å…³é”®å­—ä¼ é€’æ–¹æ³•æˆ–æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å¼•ç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•ç”¨å¯¹è±¡æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Something</span> &#123;</span><br><span class="line">    String <span class="title function_">startsWith</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(s.charAt(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Something</span> <span class="variable">something</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Something</span>();</span><br><span class="line">Converter&lt;String, String&gt; converter = something::startsWith;</span><br><span class="line"><span class="type">String</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;Java&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// &quot;J&quot;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹ <code>::</code> å…³é”®å­—æ˜¯å¦‚ä½•ä½œç”¨äºæ„é€ å™¨çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæœ‰å¤šä¸ªæ„é€ å™¨çš„ç¤ºä¾‹ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String firstName;</span><br><span class="line">    String lastName;</span><br><span class="line"></span><br><span class="line">    Person() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    Person(String firstName, String lastName) &#123;</span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç”¨äºåˆ›å»º Person å¯¹è±¡çš„ PersonFactory æ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonFactory</span>&lt;P <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; &#123;</span><br><span class="line">    P <span class="title function_">create</span><span class="params">(String firstName, String lastName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸æ˜¯æ‰‹åŠ¨å®ç°å·¥å‚ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å¼•ç”¨å°†æ‰€æœ‰ä¸œè¥¿ç²˜åˆåœ¨ä¸€èµ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PersonFactory&lt;Person&gt; personFactory = Person::<span class="keyword">new</span>;</span><br><span class="line"><span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> personFactory.create(<span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Parker&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ <code>Person::new</code> æ¥åˆ›å»ºä¸€ä¸ª Person æ„é€ å™¨çš„å¼•ç”¨ã€‚Java ç¼–è¯‘å™¨ä¼šæ ¹æ®<code>PersonFactory.create</code> çš„ç­¾åè‡ªåŠ¨åŒ¹é…æ­£ç¡®çš„æ„é€ å™¨ã€‚</p>
<h2 id="Lambda-Scopes-Lambda-ä½œç”¨åŸŸ"><a href="#Lambda-Scopes-Lambda-ä½œç”¨åŸŸ" class="headerlink" title="Lambda Scopes(Lambda ä½œç”¨åŸŸ)"></a>Lambda Scopes(Lambda ä½œç”¨åŸŸ)</h2><p>ä» lambda è¡¨è¾¾å¼è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ä¸åŒ¿åå¯¹è±¡éå¸¸ç›¸ä¼¼ã€‚æ‚¨å¯ä»¥è®¿é—®æœ¬åœ°å¤–éƒ¨ä½œç”¨åŸŸçš„å¸¸é‡ä»¥åŠå®ä¾‹çš„æˆå‘˜å˜é‡å’Œé™æ€å˜é‡ã€‚</p>
<h3 id="Accessing-local-variables-è®¿é—®æœ¬åœ°å˜é‡"><a href="#Accessing-local-variables-è®¿é—®æœ¬åœ°å˜é‡" class="headerlink" title="Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)"></a>Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)</h3><p>æˆ‘ä»¬å¯ä»¥è®¿é—® lambda è¡¨è¾¾å¼ä½œç”¨åŸŸå¤–éƒ¨çš„å¸¸é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä¸åŒäºåŒ¿åå¯¹è±¡çš„æ˜¯ï¼šè¿™ä¸ªå˜é‡ <code>num</code> ä¸æ˜¯ä¸€å®šè¦è¢« <code>final</code> ä¿®é¥°ã€‚ä¸‹é¢çš„ä»£ç ä¸€æ ·åˆæ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œ<code>num</code> å¿…é¡»æ˜¯éšå¼å¸¸é‡çš„ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line">num = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œåœ¨ lambda è¡¨è¾¾å¼ä¸­å¯¹ <code>num</code> åšå†™æ“ä½œä¹Ÿæ˜¯è¢«ç¦æ­¢çš„ã€‚</p>
<h3 id="Accessing-fields-and-static-variables-è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡"><a href="#Accessing-fields-and-static-variables-è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡" class="headerlink" title="Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)"></a>Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)</h3><p>ä¸å±€éƒ¨å˜é‡ç›¸æ¯”ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨ lambda è¡¨è¾¾å¼ä¸­è¯»å†™å®ä¾‹çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥è¯»å†™å®ä¾‹çš„é™æ€å˜é‡ã€‚è¿™ç§è¡Œä¸ºåœ¨åŒ¿åå¯¹è±¡ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Lambda4</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> outerStaticNum;</span><br><span class="line">    <span class="type">int</span> outerNum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testScopes</span><span class="params">()</span> &#123;</span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter1 = (from) -&gt; &#123;</span><br><span class="line">            outerNum = <span class="number">23</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter2 = (from) -&gt; &#123;</span><br><span class="line">            outerStaticNum = <span class="number">72</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Accessing-Default-Interface-Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰"><a href="#Accessing-Default-Interface-Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰" class="headerlink" title="Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰"></a>Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰</h3><p>è¿˜è®°å¾—ç¬¬ä¸€èŠ‚çš„ formula ä¾‹å­å—ï¼Ÿ <code>Formula</code> æ¥å£å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³• <code>sqrt</code>ï¼Œå®ƒå¯ä»¥è¢«æ¯ä¸ª formula å®ä¾‹ï¼ˆåŒ…æ‹¬åŒ¿åå¯¹è±¡ï¼‰è®¿é—®ã€‚è¿™ä¸ªç‰¹æ€§ä¸é€‚ç”¨äº lambda è¡¨è¾¾å¼ã€‚</p>
<p>é»˜è®¤æ–¹æ³•<strong>ä¸èƒ½</strong>è¢« lambda è¡¨è¾¾å¼è®¿é—®ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> (a) -&gt; sqrt(a * <span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Built-in-Functional-Interfaces-å†…ç½®å‡½æ•°æ¥å£"><a href="#Built-in-Functional-Interfaces-å†…ç½®å‡½æ•°æ¥å£" class="headerlink" title="Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)"></a>Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</h2><p>JDK 1.8 API åŒ…å«è®¸å¤šå†…ç½®çš„åŠŸèƒ½æ¥å£ã€‚å®ƒä»¬ä¸­çš„ä¸€äº›åœ¨è¾ƒæ—©çš„ Java ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ <code>Comparator</code> æˆ– <code>Runnable</code>ï¼‰ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚è¿™äº›ç°æœ‰çš„æ¥å£é€šè¿‡ <code>@FunctionalInterfaceannotation</code> æ³¨è§£è¢«æ‰©å±•ä¸ºæ”¯æŒ Lambdaã€‚</p>
<p>ä½†æ˜¯ï¼ŒJava 8 API ä¹Ÿæä¾›äº†ä¸å°‘æ–°çš„å‡½æ•°æ¥å£ã€‚å…¶ä¸­ä¸€äº›æ–°æ¥å£åœ¨ <a target="_blank" rel="noopener" href="https://code.google.com/p/guava-libraries/">Google Guava</a> åº“ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚å³ä½¿æ‚¨ç†Ÿæ‚‰è¿™ä¸ªåº“ï¼Œä¹Ÿåº”è¯¥å¯†åˆ‡å…³æ³¨å¦‚ä½•é€šè¿‡ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ‰©å±•æ¥æ‰©å±•è¿™äº›æ¥å£ã€‚</p>
<h3 id="Predicates"><a href="#Predicates" class="headerlink" title="Predicates"></a>Predicates</h3><p><code>Predicate</code> æ˜¯åªæœ‰ä¸€ä¸ªå‚æ•°çš„å¸ƒå°”å€¼å‡½æ•°ã€‚è¯¥æ¥å£åŒ…å«å„ç§é»˜è®¤æ–¹æ³•ï¼Œç”¨äºå°†è°“è¯ç»„åˆæˆå¤æ‚çš„é€»è¾‘æœ¯è¯­ï¼ˆä¸ã€æˆ–ã€éï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Predicate&lt;String&gt; predicate = (s) -&gt; s.length() &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">&quot;foo&quot;</span>);              <span class="comment">// true</span></span><br><span class="line">predicate.negate().test(<span class="string">&quot;foo&quot;</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">Predicate&lt;Boolean&gt; nonNull = Objects::nonNull;</span><br><span class="line">Predicate&lt;Boolean&gt; isNull = Objects::isNull;</span><br><span class="line"></span><br><span class="line">Predicate&lt;String&gt; isEmpty = String::isEmpty;</span><br><span class="line">Predicate&lt;String&gt; isNotEmpty = isEmpty.negate();</span><br></pre></td></tr></table></figure>

<h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><p><code>Function</code> æ¥å—ä¸€ä¸ªå‚æ•°å¹¶äº§ç”Ÿä¸€ä¸ªç»“æœã€‚å¯ä»¥ä½¿ç”¨é»˜è®¤æ–¹æ³•å°†å¤šä¸ªå‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼ˆcomposeã€andThenï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Function&lt;String, Integer&gt; toInteger = Integer::valueOf;</span><br><span class="line">Function&lt;String, String&gt; backToString = toInteger.andThen(String::valueOf);</span><br><span class="line"></span><br><span class="line">backToString.apply(<span class="string">&quot;123&quot;</span>);     <span class="comment">// &quot;123&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Suppliers"><a href="#Suppliers" class="headerlink" title="Suppliers"></a>Suppliers</h3><p><code>Supplier</code> äº§ç”Ÿä¸€ä¸ªæ³›å‹ç»“æœã€‚ä¸ <code>Function</code> ä¸åŒï¼Œ<code>Supplier</code> ä¸æ¥å—å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Supplier&lt;Person&gt; personSupplier = Person::<span class="keyword">new</span>;</span><br><span class="line">personSupplier.get();   <span class="comment">// new Person</span></span><br></pre></td></tr></table></figure>

<h3 id="Consumers"><a href="#Consumers" class="headerlink" title="Consumers"></a>Consumers</h3><p>Consumer è¡¨ç¤ºè¦åœ¨ä¸€ä¸ªè¾“å…¥å‚æ•°ä¸Šæ‰§è¡Œçš„æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;Person&gt; greeter = (p) -&gt; System.out.println(<span class="string">&quot;Hello, &quot;</span> + p.firstName);</span><br><span class="line">greeter.accept(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Luke&quot;</span>, <span class="string">&quot;Skywalker&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Comparators"><a href="#Comparators" class="headerlink" title="Comparators"></a>Comparators</h3><p>æ¯”è¾ƒå™¨åœ¨è€ç‰ˆæœ¬çš„ Java ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚ Java 8 ä¸ºæ¥å£æ·»åŠ äº†å„ç§é»˜è®¤æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Person&gt; comparator = (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName);</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line"><span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Wonderland&quot;</span>);</span><br><span class="line"></span><br><span class="line">comparator.compare(p1, p2);             <span class="comment">// &gt; 0</span></span><br><span class="line">comparator.reversed().compare(p1, p2);  <span class="comment">// &lt; 0</span></span><br></pre></td></tr></table></figure>

<h2 id="Optionals"><a href="#Optionals" class="headerlink" title="Optionals"></a>Optionals</h2><p><code>Optional</code> ä¸æ˜¯åŠŸèƒ½æ€§æ¥å£ï¼Œè€Œæ˜¯é˜²æ­¢ <code>NullPointerException</code> çš„å¥½å·¥å…·ã€‚è¿™æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¿«é€Ÿçœ‹çœ‹ <code>Optional</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<p><code>Optional</code> æ˜¯ä¸€ä¸ªç®€å•çš„å®¹å™¨ï¼Œå…¶å€¼å¯ä»¥æ˜¯ null æˆ–é nullã€‚æƒ³æƒ³ä¸€ä¸ªå¯èƒ½è¿”å›ä¸€ä¸ªéç©ºç»“æœçš„æ–¹æ³•ï¼Œä½†æœ‰æ—¶å€™ä»€ä¹ˆéƒ½ä¸è¿”å›ã€‚ä¸æ˜¯è¿”å› nullï¼Œè€Œæ˜¯è¿”å› Java 8 ä¸­çš„ <code>Optional</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; optional = Optional.of(<span class="string">&quot;bam&quot;</span>);</span><br><span class="line"></span><br><span class="line">optional.isPresent();           <span class="comment">// true</span></span><br><span class="line">optional.get();                 <span class="comment">// &quot;bam&quot;</span></span><br><span class="line">optional.orElse(<span class="string">&quot;fallback&quot;</span>);    <span class="comment">// &quot;bam&quot;</span></span><br><span class="line"></span><br><span class="line">optional.ifPresent((s) -&gt; System.out.println(s.charAt(<span class="number">0</span>)));     <span class="comment">// &quot;b&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h2><p><code>java.util.Stream</code> è¡¨ç¤ºå¯ä»¥åœ¨å…¶ä¸Šæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œçš„å…ƒç´ åºåˆ—ã€‚æµæ“ä½œæ˜¯ä¸­é—´æˆ–ç»ˆç«¯ã€‚å½“ç»ˆç«¯æ“ä½œè¿”å›ä¸€ä¸ªç‰¹å®šç±»å‹çš„ç»“æœæ—¶ï¼Œä¸­é—´æ“ä½œè¿”å›æµæœ¬èº«ï¼Œæ‰€ä»¥ä½ å¯ä»¥é“¾æ¥å¤šä¸ªæ–¹æ³•è°ƒç”¨ã€‚æµåœ¨æºä¸Šåˆ›å»ºï¼Œä¾‹å¦‚ä¸€ä¸ª <code>java.util.Collection</code> åƒåˆ—è¡¨æˆ–é›†åˆï¼ˆä¸æ”¯æŒæ˜ å°„ï¼‰ã€‚æµæ“ä½œæ—¢å¯ä»¥æŒ‰é¡ºåºæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<blockquote>
<p>æµæ˜¯éå¸¸å¼ºå¤§çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å†™äº†ä¸€ä¸ªç‹¬ç«‹çš„ <a target="_blank" rel="noopener" href="http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/">Java8 Streams æ•™ç¨‹</a> ã€‚<strong>æ‚¨è¿˜åº”è¯¥æŸ¥çœ‹ Sequentï¼Œå°†å…¶ä½œä¸º Web çš„ç±»ä¼¼åº“ã€‚</strong></p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é¡ºåºæµå¦‚ä½•å·¥ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; stringCollection = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb3&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd1&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Java 8 ä¸­çš„é›†åˆå·²è¢«æ‰©å±•ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ <code>Collection.stream()</code> æˆ–<code>Collection.parallelStream()</code> æ¥ç®€å•åœ°åˆ›å»ºæµã€‚ä»¥ä¸‹å„èŠ‚ä»‹ç»æœ€å¸¸è§çš„æµæ“ä½œã€‚</p>
<h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><p>è¿‡æ»¤å™¨æ¥å—ä¸€ä¸ªè°“è¯æ¥è¿‡æ»¤æµçš„æ‰€æœ‰å…ƒç´ ã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸­é—´çš„ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œï¼ˆ<code>forEach</code>ï¼‰çš„ç»“æœã€‚ ForEach æ¥å—ä¸€ä¸ªæ¶ˆè´¹è€…è¢«æ‰§è¡Œçš„è¿‡æ»¤æµä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ ForEach æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œã€‚å®ƒæ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;aaa2&quot;, &quot;aaa1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Sorted"><a href="#Sorted" class="headerlink" title="Sorted"></a>Sorted</h3><p>æ’åºæ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œè¿”å›æµçš„æ’åºè§†å›¾ã€‚å…ƒç´ æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼Œé™¤éæ‚¨ä¼ é€’è‡ªå®šä¹‰æ¯”è¾ƒå™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .sorted()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;aaa1&quot;, &quot;aaa2&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¯·è®°ä½ï¼Œæ’åºåªä¼šåˆ›å»ºæµçš„æ’åºè§†å›¾ï¼Œè€Œä¸ä¼šæ“çºµæ”¯æŒçš„é›†åˆçš„æ’åºã€‚ <code>stringCollection</code> çš„æ’åºæ˜¯ä¸å˜çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(stringCollection);</span><br><span class="line"><span class="comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span></span><br></pre></td></tr></table></figure>

<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>ä¸­é—´æ“ä½œæ˜ å°„é€šè¿‡ç»™å®šå‡½æ•°å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å­—æ¯å­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>map</code> å°†æ¯ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚ç»“æœæµçš„æ³›å‹ç±»å‹å–å†³äºæ‚¨ä¼ é€’ç»™ <code>map</code> çš„å‡½æ•°çš„æ³›å‹ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .sorted((a, b) -&gt; b.compareTo(a))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;DDD2&quot;, &quot;DDD1&quot;, &quot;CCC&quot;, &quot;BBB3&quot;, &quot;BBB2&quot;, &quot;AAA2&quot;, &quot;AAA1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Match"><a href="#Match" class="headerlink" title="Match"></a>Match</h3><p>å¯ä»¥ä½¿ç”¨å„ç§åŒ¹é…æ“ä½œæ¥æ£€æŸ¥æŸä¸ªè°“è¯æ˜¯å¦ä¸æµåŒ¹é…ã€‚æ‰€æœ‰è¿™äº›æ“ä½œéƒ½æ˜¯ç»ˆç«¯å¹¶è¿”å›å¸ƒå°”ç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">anyStartsWithA</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .anyMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(anyStartsWithA);      <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">allStartsWithA</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .allMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(allStartsWithA);      <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">noneStartsWithZ</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .noneMatch((s) -&gt; s.startsWith(<span class="string">&quot;z&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(noneStartsWithZ);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="Count"><a href="#Count" class="headerlink" title="Count"></a>Count</h4><p>Count æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œè¿”å›æµä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">startsWithB</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .filter((s) -&gt; s.startsWith(<span class="string">&quot;b&quot;</span>))</span><br><span class="line">        .count();</span><br><span class="line"></span><br><span class="line">System.out.println(startsWithB);    <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h3 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h3><p>è¯¥ç»ˆç«¯æ“ä½œä½¿ç”¨ç»™å®šçš„åŠŸèƒ½å¯¹æµçš„å…ƒç´ è¿›è¡Œç¼©å‡ã€‚ç»“æœæ˜¯ä¸€ä¸ª <code>Optional</code> æŒæœ‰ç¼©å°åçš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; reduced =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .sorted()</span><br><span class="line">        .reduce((s1, s2) -&gt; s1 + <span class="string">&quot;#&quot;</span> + s2);</span><br><span class="line"></span><br><span class="line">reduced.ifPresent(System.out::println);</span><br><span class="line"><span class="comment">// &quot;aaa1##aaa2##bbb1##bbb2##bbb3##ccc##ddd1##ddd2&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Parallel-Streams"><a href="#Parallel-Streams" class="headerlink" title="Parallel Streams"></a>Parallel Streams</h2><p>å¦‚ä¸Šæ‰€è¿°ï¼Œæµå¯ä»¥æ˜¯é¡ºåºçš„ä¹Ÿå¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚é¡ºåºæµä¸Šçš„æ“ä½œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œè€Œå¹¶è¡Œæµä¸Šçš„æ“ä½œåœ¨å¤šä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†é€šè¿‡ä½¿ç”¨å¹¶è¡Œæµæé«˜æ€§èƒ½æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¾ƒå¤§çš„ç‹¬ç‰¹å…ƒç´ çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">1000000</span>;</span><br><span class="line">List&lt;String&gt; values = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(max);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">    <span class="type">UUID</span> <span class="variable">uuid</span> <span class="operator">=</span> UUID.randomUUID();</span><br><span class="line">    values.add(uuid.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬æµ‹é‡å¯¹è¿™ä¸ªé›†åˆè¿›è¡Œæ’åºæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p>
<h3 id="Sequential-Sort"><a href="#Sequential-Sort" class="headerlink" title="Sequential Sort"></a>Sequential Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.stream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;sequential sort took: %d ms&quot;</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// sequential sort took: 899 ms</span></span><br></pre></td></tr></table></figure>

<h3 id="Parallel-Sort"><a href="#Parallel-Sort" class="headerlink" title="Parallel Sort"></a>Parallel Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.parallelStream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;parallel sort took: %d ms&quot;</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// parallel sort took: 472 ms</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä½ æ‰€è§ï¼Œä¸¤ä¸ªä»£ç æ®µå·®ä¸å¤šï¼Œä½†æ˜¯å¹¶è¡Œæ’åºå¿«äº†è¿‘ 50%ã€‚ä½ æ‰€éœ€åšçš„ä»…ä»…æ˜¯å°† <code>stream()</code> æ”¹ä¸º <code>parallelStream()</code> ã€‚</p>
<h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><p>å¦‚å‰æ‰€è¿°ï¼Œmap ä¸ç›´æ¥æ”¯æŒæµã€‚Map æ¥å£æœ¬èº«æ²¡æœ‰å¯ç”¨çš„ <code>stream()</code> æ–¹æ³•ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ <code>map.keySet().stream()</code> ã€ <code>map.values().stream()</code> å’Œ <code>map.entrySet().stream()</code> åˆ›å»ºæŒ‡å®šçš„æµã€‚</p>
<p>æ­¤å¤–ï¼Œmap æ”¯æŒå„ç§æ–°çš„ã€æœ‰ç”¨çš„æ–¹æ³•æ¥å¤„ç†å¸¸è§ä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    map.putIfAbsent(i, <span class="string">&quot;val&quot;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map.forEach((id, val) -&gt; System.out.println(val));</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç åº”è¯¥æ˜¯è‡ªæˆ‘è§£é‡Šçš„ï¼š<code>putIfAbsent</code> é˜»æ­¢æˆ‘ä»¬å†™å…¥é¢å¤–çš„ç©ºå€¼æ£€æŸ¥ï¼›<code>forEach</code> æ¥å—æ¶ˆè´¹è€…ä¸º map çš„æ¯ä¸ªå€¼å®ç°æ“ä½œã€‚</p>
<p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å‡½æ•°æ¥è®¡ç®— map ä¸Šçš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">map.computeIfPresent(<span class="number">3</span>, (num, val) -&gt; val + num);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.computeIfPresent(<span class="number">9</span>, (num, val) -&gt; <span class="literal">null</span>);</span><br><span class="line">map.containsKey(<span class="number">9</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">23</span>, num -&gt; <span class="string">&quot;val&quot;</span> + num);</span><br><span class="line">map.containsKey(<span class="number">23</span>);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">3</span>, num -&gt; <span class="string">&quot;bam&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•åˆ é™¤ç»™å®šé”®çš„æ¡ç›®ï¼Œåªæœ‰å½“å‰é”®æ˜ å°„åˆ°ç»™å®šå€¼æ—¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val3&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val33&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªæœ‰ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.getOrDefault(<span class="number">42</span>, <span class="string">&quot;not found&quot;</span>);  <span class="comment">// not found</span></span><br></pre></td></tr></table></figure>

<p>åˆå¹¶ä¸€ä¸ª map çš„ entry å¾ˆç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;val9&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9</span></span><br><span class="line"></span><br><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;concat&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9concat</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å­˜åœ¨è¯¥é”®çš„æ¡ç›®ï¼Œåˆå¹¶æˆ–è€…å°†é”®&#x2F;å€¼æ”¾å…¥ map ä¸­ï¼›å¦åˆ™å°†è°ƒç”¨åˆå¹¶å‡½æ•°æ¥æ›´æ”¹ç°æœ‰å€¼ã€‚</p>
<h2 id="Date-API"><a href="#Date-API" class="headerlink" title="Date API"></a>Date API</h2><p>Java 8 åœ¨ <code>java.time</code> åŒ…ä¸‹æ–°å¢äº†ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIã€‚æ–°çš„æ—¥æœŸ API ä¸ <a target="_blank" rel="noopener" href="http://www.joda.org/joda-time/">Joda-Time</a> åº“ç›¸ä¼¼ï¼Œä½†ä¸ä¸€æ ·ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¶µç›–äº†æ­¤æ–° API çš„æœ€é‡è¦éƒ¨åˆ†ã€‚</p>
<h3 id="Clock"><a href="#Clock" class="headerlink" title="Clock"></a>Clock</h3><p><code>Clock</code> æä¾›å¯¹å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„è®¿é—®ã€‚<code>Clock</code> çŸ¥é“ä¸€ä¸ªæ—¶åŒºï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿ <code>System.currentTimeMillis()</code> ï¼Œè·å–ä» <strong>Unix EPOCH</strong> å¼€å§‹çš„ä»¥æ¯«ç§’ä¸ºå•ä½çš„å½“å‰æ—¶é—´ã€‚æ—¶é—´çº¿ä¸Šçš„æŸä¸€æ—¶åˆ»ä¹Ÿç”±ç±» <code>Instant</code> è¡¨ç¤ºã€‚ Instants å¯ä»¥ç”¨æ¥åˆ›å»ºé—ç•™çš„ <code>java.util.Date</code> å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Clock</span> <span class="variable">clock</span> <span class="operator">=</span> Clock.systemDefaultZone();</span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> clock.millis();</span><br><span class="line"></span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> clock.instant();</span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);   <span class="comment">// legacy java.util.Date</span></span><br></pre></td></tr></table></figure>

<h3 id="Timezones"><a href="#Timezones" class="headerlink" title="Timezones"></a>Timezones</h3><p>æ—¶åŒºç”± <code>ZoneId</code> è¡¨ç¤ºã€‚ä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡é™æ€å·¥å‚æ–¹æ³•è®¿é—®ã€‚æ—¶åŒºå®šä¹‰äº†æŸä¸€æ—¶åˆ»å’Œå½“åœ°æ—¥æœŸã€æ—¶é—´ä¹‹é—´è½¬æ¢çš„é‡è¦åç§»é‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(ZoneId.getAvailableZoneIds());</span><br><span class="line"><span class="comment">// prints all available timezone ids</span></span><br><span class="line"></span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone1</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Europe/Berlin&quot;</span>);</span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone2</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Brazil/East&quot;</span>);</span><br><span class="line">System.out.println(zone1.getRules());</span><br><span class="line">System.out.println(zone2.getRules());</span><br><span class="line"></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=+01:00]</span></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=-03:00]</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalTime"><a href="#LocalTime" class="headerlink" title="LocalTime"></a>LocalTime</h3><p><code>LocalTime</code> ä»£è¡¨æ²¡æœ‰æ—¶åŒºçš„æ—¶é—´ï¼Œä¾‹å¦‚æ™šä¸Š 10 ç‚¹æˆ– 17:30:15ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸ºä¸Šé¢å®šä¹‰çš„æ—¶åŒºåˆ›å»ºä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤æ¬¡ï¼Œå¹¶è®¡ç®—ä¸¤æ¬¡ä¹‹é—´çš„å°æ—¶å’Œåˆ†é’Ÿçš„å·®å¼‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">now1</span> <span class="operator">=</span> LocalTime.now(zone1);</span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">now2</span> <span class="operator">=</span> LocalTime.now(zone2);</span><br><span class="line"></span><br><span class="line">System.out.println(now1.isBefore(now2));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">hoursBetween</span> <span class="operator">=</span> ChronoUnit.HOURS.between(now1, now2);</span><br><span class="line"><span class="type">long</span> <span class="variable">minutesBetween</span> <span class="operator">=</span> ChronoUnit.MINUTES.between(now1, now2);</span><br><span class="line"></span><br><span class="line">System.out.println(hoursBetween);       <span class="comment">// -3</span></span><br><span class="line">System.out.println(minutesBetween);     <span class="comment">// -239</span></span><br></pre></td></tr></table></figure>

<p><code>LocalTime</code> å¸¦æœ‰å„ç§å·¥å‚æ–¹æ³•ï¼Œä»¥ç®€åŒ–æ–°å®ä¾‹çš„åˆ›å»ºï¼ŒåŒ…æ‹¬è§£ææ—¶é—´å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">late</span> <span class="operator">=</span> LocalTime.of(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line">System.out.println(late);       <span class="comment">// 23:59:59</span></span><br><span class="line"></span><br><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofLocalizedTime(FormatStyle.SHORT)</span><br><span class="line">        .withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">leetTime</span> <span class="operator">=</span> LocalTime.parse(<span class="string">&quot;13:37&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(leetTime);   <span class="comment">// 13:37</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalDate"><a href="#LocalDate" class="headerlink" title="LocalDate"></a>LocalDate</h3><p><code>LocalDate</code> è¡¨ç¤ºä¸åŒçš„æ—¥æœŸï¼Œä¾‹å¦‚ï¼š2014 å¹´ 3 æœˆ 11 æ—¥ã€‚å®ƒæ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”ä¸ <code>LocalTime</code> å®Œå…¨ç±»ä¼¼ã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•é€šè¿‡åŠ å‡æ—¥ã€æœˆæˆ–å¹´æ¥è®¡ç®—æ–°æ—¥æœŸã€‚è¯·è®°ä½ï¼Œæ¯ä¸ªæ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">tomorrow</span> <span class="operator">=</span> today.plus(<span class="number">1</span>, ChronoUnit.DAYS);</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">yesterday</span> <span class="operator">=</span> tomorrow.minusDays(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">independenceDay</span> <span class="operator">=</span> LocalDate.of(<span class="number">2014</span>, Month.JULY, <span class="number">4</span>);</span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> independenceDay.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);    <span class="comment">// FRIDAY</span></span><br></pre></td></tr></table></figure>

<p>ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡º LocalDate å¯¹è±¡ï¼Œå’Œè§£æ LocalTime ä¸€æ ·çš„ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofLocalizedDate(FormatStyle.MEDIUM)</span><br><span class="line">        .withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">xmas</span> <span class="operator">=</span> LocalDate.parse(<span class="string">&quot;24.12.2014&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(xmas);   <span class="comment">// 2014-12-24</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p>LocalDateTime è¡¨ç¤ºæ—¥æœŸæ—¶é—´ã€‚å®ƒå°†æ—¥æœŸå’Œæ—¶é—´ç»„åˆæˆä¸€ä¸ªå®ä¾‹ã€‚ <code>LocalDateTime</code> æ˜¯ä¸å¯å˜çš„ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº <code>LocalTime</code> å’Œ <code>LocalDate</code>ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ–¹æ³•å»è·å–æ—¥æœŸæ—¶é—´ä¸­æŸä¸ªå•ä½çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span> <span class="variable">sylvester</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2014</span>, Month.DECEMBER, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> sylvester.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);      <span class="comment">// WEDNESDAY</span></span><br><span class="line"></span><br><span class="line"><span class="type">Month</span> <span class="variable">month</span> <span class="operator">=</span> sylvester.getMonth();</span><br><span class="line">System.out.println(month);          <span class="comment">// DECEMBER</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">minuteOfDay</span> <span class="operator">=</span> sylvester.getLong(ChronoField.MINUTE_OF_DAY);</span><br><span class="line">System.out.println(minuteOfDay);    <span class="comment">// 1439</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸€ä¸ªæ—¶åŒºçš„é™„åŠ ä¿¡æ¯å¯ä»¥è½¬ä¸ºä¸€ä¸ªå®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹å¾ˆå®¹æ˜“è½¬ä¸º<code>java.util.Date</code> ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> sylvester</span><br><span class="line">        .atZone(ZoneId.systemDefault())</span><br><span class="line">        .toInstant();</span><br><span class="line"></span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);</span><br><span class="line">System.out.println(legacyDate);     <span class="comment">// Wed Dec 31 23:59:59 CET 2014</span></span><br></pre></td></tr></table></figure>

<p>æ—¥æœŸæ—¶é—´çš„æ ¼å¼åŒ–ç±»ä¼¼äº Date æˆ– Timeã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å¼åˆ›å»ºæ ¼å¼åŒ–ç¨‹åºï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢„å®šä¹‰çš„æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofPattern(<span class="string">&quot;MMM dd, yyyy - HH:mm&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">parsed</span> <span class="operator">=</span> LocalDateTime.parse(<span class="string">&quot;Nov 03, 2014 - 07:13&quot;</span>, formatter);</span><br><span class="line"><span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> formatter.format(parsed);</span><br><span class="line">System.out.println(string);     <span class="comment">// Nov 03, 2014 - 07:13</span></span><br></pre></td></tr></table></figure>

<p>ä¸åŒäº <code>java.text.NumberFormat</code> ï¼Œ <code>DateTimeFormatter</code> æ˜¯ä¸å¯å˜ä¸”<strong>çº¿ç¨‹å®‰å…¨çš„</strong> ã€‚</p>
<p>æ›´å¤šå…³äºæ—¥æœŸæ ¼å¼åŒ–çš„å†…å®¹å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">è¿™é‡Œ</a>.</p>
<h2 id="Annotations"><a href="#Annotations" class="headerlink" title="Annotations"></a>Annotations</h2><p>Java 8 ä¸­çš„æ³¨é‡Šæ˜¯å¯é‡å¤çš„ã€‚è®©æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«å®é™…æ³¨é‡Šæ•°ç»„çš„å¤–å±‚æ³¨é‡Šï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> Hints &#123;</span><br><span class="line">    Hint[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repeatable(Hints.class)</span></span><br><span class="line"><span class="meta">@interface</span> Hint &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java8 å…è®¸æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>@Repeatable</code> æ³¨è§£æ¥å¼•å…¥å¤šä¸ªåŒç±»å‹çš„æ³¨è§£ã€‚</p>
<h3 id="Variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯"><a href="#Variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯" class="headerlink" title="Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)"></a>Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Hints(&#123;@Hint(&quot;hint1&quot;), @Hint(&quot;hint2&quot;)&#125;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯"><a href="#Variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯" class="headerlink" title="Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)"></a>Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Hint(&quot;hint1&quot;)</span></span><br><span class="line"><span class="meta">@Hint(&quot;hint2&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åœºæ™¯ 2ï¼ŒJava ç¼–è¯‘å™¨éšå¼åœ°è®¾ç½®äº† <code>@Hints</code> æ³¨è§£ã€‚</p>
<p>è¿™å¯¹äºé€šè¿‡åå°„æ¥è¯»å–æ³¨è§£ä¿¡æ¯å¾ˆé‡è¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hint</span> <span class="variable">hint</span> <span class="operator">=</span> Person.class.getAnnotation(Hint.class);</span><br><span class="line">System.out.println(hint);                   <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line"><span class="type">Hints</span> <span class="variable">hints1</span> <span class="operator">=</span> Person.class.getAnnotation(Hints.class);</span><br><span class="line">System.out.println(hints1.value().length);  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">Hint[] hints2 = Person.class.getAnnotationsByType(Hint.class);</span><br><span class="line">System.out.println(hints2.length);          <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>å°½ç®¡ï¼Œæˆ‘ä»¬ä»æ²¡æœ‰åœ¨ Person ç±»ä¸Šå£°æ˜ <code>@Hints</code> æ³¨è§£ï¼Œä½†æ˜¯ä»å¯ä»¥é€šè¿‡<code>getAnnotation(Hints.class)</code> è¯»å–å®ƒã€‚ç„¶è€Œï¼Œæ›´ä¾¿åˆ©çš„æ–¹å¼æ˜¯ <code>getAnnotationsByType</code> ï¼Œå®ƒå¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰ <code>@Hint</code> æ³¨è§£ã€‚</p>
<p>æ­¤å¤–ï¼ŒJava 8 ä¸­çš„æ³¨é‡Šä½¿ç”¨æ‰©å±•äº†ä¸¤ä¸ªæ–°çš„ç›®æ ‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE_PARAMETER, ElementType.TYPE_USE&#125;)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æ°´å¹³çº¿ä»¥ä¸Šä¸º <a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a> ç¿»è¯‘å†…å®¹ã€‚</p>
<hr>
<h2 id="JDK8-å‡çº§å¸¸è§é—®é¢˜"><a href="#JDK8-å‡çº§å¸¸è§é—®é¢˜" class="headerlink" title="JDK8 å‡çº§å¸¸è§é—®é¢˜"></a>JDK8 å‡çº§å¸¸è§é—®é¢˜</h2><blockquote>
<p>JDK8 å‘å¸ƒå¾ˆä¹…äº†ï¼Œå®ƒæä¾›äº†è®¸å¤šå¸å¼•äººçš„æ–°ç‰¹æ€§ï¼Œèƒ½å¤Ÿæé«˜ç¼–ç¨‹æ•ˆç‡ã€‚</p>
<p>å¦‚æœæ˜¯æ–°çš„é¡¹ç›®ï¼Œä½¿ç”¨ JDK8 å½“ç„¶æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€äº›è€çš„é¡¹ç›®ï¼Œå‡çº§åˆ° JDK8 åˆ™å­˜åœ¨ä¸€äº›å…¼å®¹æ€§é—®é¢˜ï¼Œæ˜¯å¦å‡çº§éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚</p>
<p>è¿‘æœŸï¼Œæˆ‘åœ¨å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå°†éƒ¨é—¨æ‰€æœ‰é¡¹ç›®çš„ JDK ç‰ˆæœ¬å‡çº§åˆ° 1.8 ï¼ˆè€ç‰ˆæœ¬å¤§å¤šæ˜¯ 1.6ï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜ç‚¹ï¼Œå¹¶ç»“åˆåœ¨ç½‘ä¸Šçœ‹åˆ°çš„å‘ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚</p>
</blockquote>
<h3 id="Intellij-ä¸­çš„-JDK-ç¯å¢ƒè®¾ç½®"><a href="#Intellij-ä¸­çš„-JDK-ç¯å¢ƒè®¾ç½®" class="headerlink" title="Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®"></a>Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®</h3><h4 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h4><p>ç‚¹å‡» <strong>File &gt; Settings &gt; Java Compiler</strong></p>
<p>Project bytecode version é€‰æ‹© 1.8</p>
<p>ç‚¹å‡» <strong>File &gt; Settings &gt; Build Tools &gt; Maven &gt; Importing</strong></p>
<p>é€‰æ‹© JDK for importer ä¸º 1.8</p>
<h4 id="Projcet-Settings"><a href="#Projcet-Settings" class="headerlink" title="Projcet Settings"></a>Projcet Settings</h4><p><strong>Project SDK</strong> é€‰æ‹© 1.8</p>
<h4 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h4><p>å¦‚æœ web åº”ç”¨çš„å¯åŠ¨æ–¹å¼ä¸º Application ï¼Œéœ€è¦ä¿®æ”¹ JRE</p>
<p>ç‚¹å‡» <strong>Run&#x2F;Debug Configurations &gt; Configuration</strong></p>
<p>é€‰æ‹© JRE ä¸º 1.8</p>
<h3 id="Linux-ç¯å¢ƒä¿®æ”¹"><a href="#Linux-ç¯å¢ƒä¿®æ”¹" class="headerlink" title="Linux ç¯å¢ƒä¿®æ”¹"></a>Linux ç¯å¢ƒä¿®æ”¹</h3><h4 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a href="#ä¿®æ”¹ç¯å¢ƒå˜é‡" class="headerlink" title="ä¿®æ”¹ç¯å¢ƒå˜é‡"></a>ä¿®æ”¹ç¯å¢ƒå˜é‡</h4><p>ä¿®æ”¹ <code>/etc/profile</code> ä¸­çš„ <strong>JAVA_HOME</strong>ï¼Œè®¾ç½® ä¸º jdk8 æ‰€åœ¨è·¯å¾„ã€‚</p>
<p>ä¿®æ”¹åï¼Œæ‰§è¡Œ <code>source /etc/profile</code> ç”Ÿæ•ˆã€‚</p>
<p>ç¼–è¯‘ã€å‘å¸ƒè„šæœ¬ä¸­å¦‚æœæœ‰ <code>export JAVA_HOME</code> ï¼Œéœ€è¦æ³¨æ„ï¼Œéœ€è¦ä½¿ç”¨ jdk8 çš„è·¯å¾„ã€‚</p>
<h4 id="ä¿®æ”¹-maven"><a href="#ä¿®æ”¹-maven" class="headerlink" title="ä¿®æ”¹ maven"></a>ä¿®æ”¹ maven</h4><p>settings.xml ä¸­ profile çš„æ¿€æ´»æ¡ä»¶å¦‚æœæ˜¯ jdkï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹ jdk ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span> <span class="comment">&lt;!-- ä¿®æ”¹ä¸º 1.8 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹-server"><a href="#ä¿®æ”¹-server" class="headerlink" title="ä¿®æ”¹ server"></a>ä¿®æ”¹ server</h4><p>ä¿®æ”¹ server ä¸­çš„ javac ç‰ˆæœ¬ï¼Œä»¥ resin ä¸ºä¾‹ï¼š</p>
<p>ä¿®æ”¹ resin é…ç½®æ–‡ä»¶ä¸­çš„ javac å‚æ•°ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">javac</span> <span class="attr">compiler</span>=<span class="string">&quot;internal&quot;</span> <span class="attr">args</span>=<span class="string">&quot;-source 1.8&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="sun-åŒ…ç¼ºå¤±é—®é¢˜"><a href="#sun-åŒ…ç¼ºå¤±é—®é¢˜" class="headerlink" title="sun.* åŒ…ç¼ºå¤±é—®é¢˜"></a>sun.* åŒ…ç¼ºå¤±é—®é¢˜</h3><p>JDK8 ä¸å†æä¾› <code>sun.*</code> åŒ…ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›æ¥å£ä¸æ˜¯å…¬å…±æ¥å£ï¼Œä¸èƒ½ä¿è¯åœ¨æ‰€æœ‰ Java å…¼å®¹çš„å¹³å°ä¸Šå·¥ä½œã€‚</p>
<p>ä½¿ç”¨äº†è¿™äº› API çš„ç¨‹åºå¦‚æœè¦å‡çº§åˆ° JDK 1.8 éœ€è¦å¯»æ±‚æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>è™½ç„¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å¯¼å…¥åŒ…å« <code>sun.*</code> æ¥å£ jar åŒ…åˆ° classpath ç›®å½•ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ã€‚</p>
<p>éœ€è¦è¯¦ç»†äº†è§£ä¸ºä»€ä¹ˆä¸è¦ä½¿ç”¨ <code>sun.*</code> ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></p>
<h3 id="é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"><a href="#é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹" class="headerlink" title="é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"></a>é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹</h3><p>å‡çº§åä¼°è®¡æœ‰äº›å°ä¼™ä¼´åœ¨ä½¿ç”¨ä¸å®‰å…¨ç®—æ³•æ—¶å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œsoï¼Œæ”¯æŒä¸å®‰å…¨ç®—æ³•è¿˜æ˜¯æœ‰å¿…è¦çš„</p>
<p>æ‰¾åˆ°$JAVA_HOME ä¸‹ <code>jre/lib/security/java.security</code> ï¼Œå°†ç¦ç”¨çš„ç®—æ³•è®¾ç½®ä¸ºç©ºï¼š<code>jdk.certpath.disabledAlgorithms=</code> ã€‚</p>
<h3 id="JVM-å‚æ•°è°ƒæ•´"><a href="#JVM-å‚æ•°è°ƒæ•´" class="headerlink" title="JVM å‚æ•°è°ƒæ•´"></a>JVM å‚æ•°è°ƒæ•´</h3><p>åœ¨ jdk8 ä¸­ï¼ŒPermSize ç›¸å…³çš„å‚æ•°å·²ç»ä¸è¢«ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-XX:MaxPermSize=size</span><br><span class="line"></span><br><span class="line">Sets the maximum permanent generation space size (in bytes). This option was deprecated in JDK 8, and superseded by the -XX:MaxMetaspaceSize option.</span><br><span class="line"></span><br><span class="line">-XX:PermSize=size</span><br><span class="line"></span><br><span class="line">Sets the space (in bytes) allocated to the permanent generation that triggers a garbage collection if it is exceeded. This option was deprecated un JDK 8, and superseded by the -XX:MetaspaceSize option.</span><br></pre></td></tr></table></figure>

<p>JDK8 ä¸­å†ä¹Ÿæ²¡æœ‰ <code>PermGen</code> äº†ã€‚å…¶ä¸­çš„æŸäº›éƒ¨åˆ†ï¼Œå¦‚è¢« intern çš„å­—ç¬¦ä¸²ï¼Œåœ¨ JDK7 ä¸­å·²ç»ç§»åˆ°äº†æ™®é€šå †é‡Œã€‚<strong>å…¶ä½™ç»“æ„åœ¨ JDK8 ä¸­ä¼šè¢«ç§»åˆ°ç§°ä½œâ€œMetaspaceâ€çš„æœ¬æœºå†…å­˜åŒºä¸­ï¼Œè¯¥åŒºåŸŸåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨ç”Ÿé•¿ï¼Œä¹Ÿä¼šè¢«åƒåœ¾å›æ”¶ã€‚å®ƒæœ‰ä¸¤ä¸ªæ ‡è®°ï¼šMetaspaceSize å’Œ MaxMetaspaceSizeã€‚</strong></p>
<p>-XX:MetaspaceSize&#x3D;size</p>
<blockquote>
<p>Sets the size of the allocated class metadata space that will trigger a garbage collection the first time it is exceeded. This threshold for a garbage collection is increased or decreased depending on the amount of metadata used. The default size depends on the platform.</p>
</blockquote>
<p>-XX:MaxMetaspaceSize&#x3D;size</p>
<blockquote>
<p>Sets the maximum amount of native memory that can be allocated for class metadata. By default, the size is not limited. The amount of metadata for an application depends on the application itself, other running applications, and the amount of memory available on the system.</p>
</blockquote>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•å°†ç±»ç±»å…ƒæ•°æ®çš„ä¸Šé™è®¾ç½®ä¸º 256 MBï¼š</p>
<p>XX:MaxMetaspaceSize&#x3D;256m</p>
<h3 id="å­—èŠ‚ç é—®é¢˜"><a href="#å­—èŠ‚ç é—®é¢˜" class="headerlink" title="å­—èŠ‚ç é—®é¢˜"></a>å­—èŠ‚ç é—®é¢˜</h3><p>ASM 5.0 beta å¼€å§‹æ”¯æŒ JDK8</p>
<p><strong>å­—èŠ‚ç é”™è¯¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.io.IOException: invalid constant type: 15</span><br><span class="line">	at javassist.bytecode.ConstPool.readOne(ConstPool.java:1113)</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥æ‰¾ç»„ä»¶ç”¨åˆ°äº† mvelï¼Œmvel ä¸ºäº†æé«˜æ•ˆç‡è¿›è¡Œäº†å­—èŠ‚ç ä¼˜åŒ–ï¼Œæ­£å¥½ç¢°ä¸Š JDK8 æ­»ç©´ï¼Œæ‰€ä»¥éœ€è¦å‡çº§ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mvel<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mvel2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.7.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>javassist</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.18.1-GA<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>æœ‰äº›éƒ¨ç½²å·¥å…·ä¸ä¼šåˆ é™¤æ—§ç‰ˆæœ¬ jar åŒ…ï¼Œæ‰€ä»¥å¯ä»¥å°è¯•æ‰‹åŠ¨åˆ é™¤è€ç‰ˆæœ¬ jar åŒ…ã€‚</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://asm.ow2.org/history.html">http://asm.ow2.org/history.html</a></p>
<h3 id="Java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-Error-redis-clients-jedis-HostAndPort-cant-resolve-localhost-address"><a href="#Java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-Error-redis-clients-jedis-HostAndPort-cant-resolve-localhost-address" class="headerlink" title="Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address"></a>Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address</h3><p>é”™è¯¯ç¯å¢ƒ:<br>æœ¬åœ° window å¼€å‘ç¯å¢ƒæ²¡æœ‰é—®é¢˜ã€‚ä¸Šåˆ° Linux ç¯å¢ƒ,å¯åŠ¨å‡ºç°é—®é¢˜ã€‚<br>é”™è¯¯ä¿¡æ¯:<br>Error redis clients jedis HostAndPort cant resolve localhost address</p>
<p>è§£å†³åŠæ³•:</p>
<p>ï¼ˆ1ï¼‰æŸ¥çœ‹ Linux ç³»ç»Ÿçš„ä¸»æœºå</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># hostname</span><br><span class="line">template</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æŸ¥çœ‹&#x2F;etc&#x2F;hosts æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ 127.0.0.1 å¯¹åº”ä¸»æœºåï¼Œå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ </p>
<h3 id="Resin-å®¹å™¨æŒ‡å®š-JDK-1-8"><a href="#Resin-å®¹å™¨æŒ‡å®š-JDK-1-8" class="headerlink" title="Resin å®¹å™¨æŒ‡å®š JDK 1.8"></a>Resin å®¹å™¨æŒ‡å®š JDK 1.8</h3><p>å¦‚æœ resin å®¹å™¨åŸæ¥ç‰ˆæœ¬ä½äº JDK1.8ï¼Œè¿è¡Œ JDK 1.8 ç¼–è¯‘çš„ web app æ—¶ï¼Œå¯èƒ½ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.UnsupportedClassVersionError: PR/Sort : Unsupported major.minor version 52.0</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œä½¿ç”¨ JDK 1.8 è¦é‡æ–°ç¼–è¯‘ä¸€ä¸‹ã€‚ç„¶åï¼Œæˆ‘åœ¨éƒ¨ç½²æ—¶å‡ºç°è¿‡ç¼–è¯‘åä»æŠ¥é”™çš„æƒ…å†µï¼Œé‡å¯ä¸€ä¸‹æœåŠ¡å™¨åï¼Œé—®é¢˜è§£å†³ï¼Œä¸çŸ¥æ˜¯ä»€ä¹ˆåŸå› ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/resin  --with-java=/usr/local/jdk1.8.0_121</span><br><span class="line">make &amp; make install</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a></li>
<li><a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html">Compatibility Guide for JDK 8</a></li>
<li><a target="_blank" rel="noopener" href="https://yq.aliyun.com/articles/236">Compatibility Guide for JDK 8 ä¸­æ–‡ç¿»è¯‘</a></li>
<li><a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">JaHero</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/pages/ad1cce/">http://example.com/pages/ad1cce/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">è´¾è‹±é›„-blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/JavaSE/">JavaSE</a><a class="post-meta__tags" href="/tags/JDK8/">JDK8</a></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://fastly.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/12/26/JVM/Java%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/" title="Javaæ–¹æ³•çš„è°ƒç”¨"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-26</div><div class="title">Javaæ–¹æ³•çš„è°ƒç”¨</div></div></a></div><div><a href="/2022/12/26/JVM/java%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" title="javaåå°„æœºåˆ¶åŠå…¶åº”ç”¨åœºæ™¯"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-26</div><div class="title">javaåå°„æœºåˆ¶åŠå…¶åº”ç”¨åœºæ™¯</div></div></a></div><div><a href="/2022/12/26/JVM/%E5%AD%97%E8%8A%82%E7%A0%81%E8%AF%A6%E8%A7%A3/" title="JVMå­—èŠ‚ç è¯¦è§£"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-26</div><div class="title">JVMå­—èŠ‚ç è¯¦è§£</div></div></a></div><div><a href="/pages/69d2f8/" title="JavaSE"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-06</div><div class="title">JavaSE</div></div></a></div><div><a href="/pages/5f886e/" title="Java é¢è¯•æ€»ç»“"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-04</div><div class="title">Java é¢è¯•æ€»ç»“</div></div></a></div><div><a href="/pages/7daf0d/" title="Java å¼€å‘ç¯å¢ƒ"><img class="cover" src="/img/post.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-08-29</div><div class="title">Java å¼€å‘ç¯å¢ƒ</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/ava.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">JaHero</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">495</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">294</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">118</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JiaHero7/JiaHero7.github.io/" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JDK8-%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97"><span class="toc-number">1.</span> <span class="toc-text">JDK8 å…¥é—¨æŒ‡å—</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Default-Methods-for-Interfaces-%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda-expressions-Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">Lambda expressions(Lambda è¡¨è¾¾å¼)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Functional-Interfaces-%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.</span> <span class="toc-text">Functional Interfaces(å‡½æ•°æ¥å£)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Method-and-Constructor-References-%E6%96%B9%E6%B3%95%E5%92%8C%E6%9E%84%E9%80%A0%E5%99%A8%E5%BC%95%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda-Scopes-Lambda-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.5.</span> <span class="toc-text">Lambda Scopes(Lambda ä½œç”¨åŸŸ)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Accessing-local-variables-%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.1.</span> <span class="toc-text">Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Accessing-fields-and-static-variables-%E8%AE%BF%E9%97%AE%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Accessing-Default-Interface-Methods%EF%BC%88%E8%AE%BF%E9%97%AE%E9%BB%98%E8%AE%A4%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95%EF%BC%89"><span class="toc-number">1.5.3.</span> <span class="toc-text">Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Built-in-Functional-Interfaces-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.6.</span> <span class="toc-text">Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Predicates"><span class="toc-number">1.6.1.</span> <span class="toc-text">Predicates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Functions"><span class="toc-number">1.6.2.</span> <span class="toc-text">Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Suppliers"><span class="toc-number">1.6.3.</span> <span class="toc-text">Suppliers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Consumers"><span class="toc-number">1.6.4.</span> <span class="toc-text">Consumers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comparators"><span class="toc-number">1.6.5.</span> <span class="toc-text">Comparators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Optionals"><span class="toc-number">1.7.</span> <span class="toc-text">Optionals</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Streams"><span class="toc-number">1.8.</span> <span class="toc-text">Streams</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter"><span class="toc-number">1.8.1.</span> <span class="toc-text">Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sorted"><span class="toc-number">1.8.2.</span> <span class="toc-text">Sorted</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map"><span class="toc-number">1.8.3.</span> <span class="toc-text">Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Match"><span class="toc-number">1.8.4.</span> <span class="toc-text">Match</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Count"><span class="toc-number">1.8.4.1.</span> <span class="toc-text">Count</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reduce"><span class="toc-number">1.8.5.</span> <span class="toc-text">Reduce</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Parallel-Streams"><span class="toc-number">1.9.</span> <span class="toc-text">Parallel Streams</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sequential-Sort"><span class="toc-number">1.9.1.</span> <span class="toc-text">Sequential Sort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parallel-Sort"><span class="toc-number">1.9.2.</span> <span class="toc-text">Parallel Sort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maps"><span class="toc-number">1.10.</span> <span class="toc-text">Maps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date-API"><span class="toc-number">1.11.</span> <span class="toc-text">Date API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clock"><span class="toc-number">1.11.1.</span> <span class="toc-text">Clock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timezones"><span class="toc-number">1.11.2.</span> <span class="toc-text">Timezones</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalTime"><span class="toc-number">1.11.3.</span> <span class="toc-text">LocalTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalDate"><span class="toc-number">1.11.4.</span> <span class="toc-text">LocalDate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalDateTime"><span class="toc-number">1.11.5.</span> <span class="toc-text">LocalDateTime</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Annotations"><span class="toc-number">1.12.</span> <span class="toc-text">Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Variant-1-%E4%BD%BF%E7%94%A8%E5%AE%B9%E5%99%A8%E6%B3%A8%E8%A7%A3-%E8%80%81%E5%A5%97%E8%B7%AF"><span class="toc-number">1.12.1.</span> <span class="toc-text">Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Variant-2-%E4%BD%BF%E7%94%A8-repeatable-%E6%B3%A8%E8%A7%A3-%E6%96%B0%E5%A5%97%E8%B7%AF"><span class="toc-number">1.12.2.</span> <span class="toc-text">Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JDK8-%E5%8D%87%E7%BA%A7%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.13.</span> <span class="toc-text">JDK8 å‡çº§å¸¸è§é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Intellij-%E4%B8%AD%E7%9A%84-JDK-%E7%8E%AF%E5%A2%83%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.13.1.</span> <span class="toc-text">Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Settings"><span class="toc-number">1.13.1.1.</span> <span class="toc-text">Settings</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Projcet-Settings"><span class="toc-number">1.13.1.2.</span> <span class="toc-text">Projcet Settings</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application"><span class="toc-number">1.13.1.3.</span> <span class="toc-text">Application</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%8E%AF%E5%A2%83%E4%BF%AE%E6%94%B9"><span class="toc-number">1.13.2.</span> <span class="toc-text">Linux ç¯å¢ƒä¿®æ”¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.13.2.1.</span> <span class="toc-text">ä¿®æ”¹ç¯å¢ƒå˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-maven"><span class="toc-number">1.13.2.2.</span> <span class="toc-text">ä¿®æ”¹ maven</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-server"><span class="toc-number">1.13.2.3.</span> <span class="toc-text">ä¿®æ”¹ server</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sun-%E5%8C%85%E7%BC%BA%E5%A4%B1%E9%97%AE%E9%A2%98"><span class="toc-number">1.13.3.</span> <span class="toc-text">sun.* åŒ…ç¼ºå¤±é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5%E4%BF%AE%E6%94%B9"><span class="toc-number">1.13.4.</span> <span class="toc-text">é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JVM-%E5%8F%82%E6%95%B0%E8%B0%83%E6%95%B4"><span class="toc-number">1.13.5.</span> <span class="toc-text">JVM å‚æ•°è°ƒæ•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.13.6.</span> <span class="toc-text">å­—èŠ‚ç é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-%E8%BF%9E%E6%8E%A5-redis-%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99-Error-redis-clients-jedis-HostAndPort-cant-resolve-localhost-address"><span class="toc-number">1.13.7.</span> <span class="toc-text">Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resin-%E5%AE%B9%E5%99%A8%E6%8C%87%E5%AE%9A-JDK-1-8"><span class="toc-number">1.13.8.</span> <span class="toc-text">Resin å®¹å™¨æŒ‡å®š JDK 1.8</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.14.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/image/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%AC%94%E8%AE%B0/" title="æ— é¢˜"><img src="/img/post.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ— é¢˜"/></a><div class="content"><a class="title" href="/2022/12/31/image/%E7%AC%AC%E4%B8%80%E5%A4%A9%E7%AC%94%E8%AE%B0/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2022-12-31T04:24:34.153Z" title="å‘è¡¨äº 2022-12-31 12:24:34">2022-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/img/index/" title="gallery"><img src="/img/post.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="gallery"/></a><div class="content"><a class="title" href="/2022/12/31/img/index/" title="gallery">gallery</a><time datetime="2022-12-30T18:20:45.000Z" title="å‘è¡¨äº 2022-12-31 02:20:45">2022-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/30/hello-world/" title="Hello World"><img src="/img/post.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2022/12/30/hello-world/" title="Hello World">Hello World</a><time datetime="2022-12-30T09:13:14.141Z" title="å‘è¡¨äº 2022-12-30 17:13:14">2022-12-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/26/Aop%E6%B3%A8%E8%A7%A3/" title="Aopæ³¨è§£"><img src="/img/post.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Aopæ³¨è§£"/></a><div class="content"><a class="title" href="/2022/12/26/Aop%E6%B3%A8%E8%A7%A3/" title="Aopæ³¨è§£">Aopæ³¨è§£</a><time datetime="2022-12-26T04:40:09.000Z" title="å‘è¡¨äº 2022-12-26 12:40:09">2022-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/26/Flowable%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E/" title="Flowable å·¥ä½œæµç¨‹å¼•æ“"><img src="/img/post.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flowable å·¥ä½œæµç¨‹å¼•æ“"/></a><div class="content"><a class="title" href="/2022/12/26/Flowable%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E/" title="Flowable å·¥ä½œæµç¨‹å¼•æ“">Flowable å·¥ä½œæµç¨‹å¼•æ“</a><time datetime="2022-12-26T04:40:09.000Z" title="å‘è¡¨äº 2022-12-26 12:40:09">2022-12-26</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/post.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By JaHero</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script src="https://fastly.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>